!function(t){"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof exports?module.exports=t(require("jquery")):t(jQuery)}(function(t){function a(t){return"undefined"!=typeof t&&null!==t?!0:!1}t(document).ready(function(){t("body").append("<div id=snackbar-container/>")});var n={events:{},on:function(t,a){this.events[t]=this.events[t]||[],this.events[t].push(a)},off:function(t,a){if(this.events[t])for(var n=0;n<this.events[t].length;n++)if(this.events[t][n]===a){this.events[t].splice(n,1);break}},emit:function(t,a){this.events[t]&&this.events[t].forEach(function(t){t(a)})}};t(document).on("click","[data-toggle=snackbar]",function(){t(this).snackbar("toggle")}).on("click","#snackbar-container .snackbar",function(){t(this).snackbar("hide")}),t.snackbar=function(e){if(a(e)&&e===Object(e)){var i,o=!1;a(e.id)?t("#"+e.id).length?i=t("#"+e.id):(i=t("<div/>").attr("id",""+e.id).attr("class","snackbar"),o=!0):(e.id="snackbar"+Date.now(),i=t("<div/>").attr("id",e.id).attr("class","snackbar"),o=!0);var s=i.hasClass("snackbar-opened");a(e.style)?(s?i.attr("class","snackbar snackbar-opened "+e.style):i.attr("class","snackbar "+e.style),i.attr("data-style",e.style)):s?i.attr("class","snackbar snackbar-opened"):i.attr("class","snackbar"),e.htmlAllowed=a(e.htmlAllowed)?e.htmlAllowed:!1,e.timeout=a(e.timeout)?e.timeout:3e3,i.attr("data-timeout",e.timeout),e.content=e.htmlAllowed?e.content:t("<p>"+e.content+"</p>").text(),a(e.onClose)&&n.on(e.id,e.onClose),a(e.htmlAllowed)&&i.attr("data-html-allowed",e.htmlAllowed),a(e.content)&&(i.find(".snackbar-content").length?i.find(".snackbar-content").html(e.content):i.prepend("<span class=snackbar-content>"+e.content+"</span>"),i.attr("data-content",e.content)),o?i.appendTo("#snackbar-container"):i.insertAfter("#snackbar-container .snackbar:last-child"),a(e.action)&&"toggle"==e.action&&(s?e.action="hide":e.action="show");var r=Date.now();i.data("animationId1",r),setTimeout(function(){i.data("animationId1")===r&&(a(e.action)&&"show"!=e.action?a(e.action)&&"hide"==e.action&&(i.removeClass("snackbar-opened"),n.emit(e.id),n.off(e.id)):i.addClass("snackbar-opened"))},50);var c=Date.now();return i.data("animationId2",c),0!==e.timeout&&setTimeout(function(){i.data("animationId2")===c&&(i.removeClass("snackbar-opened"),n.emit(e.id),n.off(e.id))},e.timeout),i}return!1},t.fn.snackbar=function(n){if("undefined"!=typeof n){var e={};if(this.hasClass("snackbar"))return e={id:this.attr("id"),content:t(this).attr("data-content"),style:t(this).attr("data-style"),timeout:parseInt(t(this).attr("data-timeout")),htmlAllowed:t(this).attr("data-html-allowed")},("show"===n||"hide"===n||"toggle"==n)&&(e.action=n),t.snackbar(e);a(n)&&"show"!==n&&"hide"!==n&&"toggle"!=n||(e={content:t(this).attr("data-content"),style:t(this).attr("data-style"),timeout:t(this).attr("data-timeout"),htmlAllowed:t(this).attr("data-html-allowed")}),a(n)&&(e.id=this.attr("data-snackbar-id"),("show"===n||"hide"===n||"toggle"==n)&&(e.action=n));var i=t.snackbar(e);return this.attr("data-snackbar-id",i.attr("id")),i}}});